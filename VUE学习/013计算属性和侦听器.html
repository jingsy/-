<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

    <!-- è®¡ç®—å±æ€§ -->

    <div id="app">
    {{ person }} computed 
    <!-- {{ person() }} method -->
    {{ msg }}

    
    </div>
 

    
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        //  data -> methods -> computed æ•°æ®æŸ¥æ‰¾é¡ºåº
        
        var vm = new Vue({ 
            el: '#app',
            //è¿‡ä¸€éæµç¨‹
            data:{
                //dataä¸­çš„this æ˜¯window
                name:'a',
                age:19,
                msg:'qq',
                // person:`å§“å: ${this.name} å¹´é¾„: ${this.age}`, //no this pointed to window in data
                
            },
            computed: {
                // ç›¸å½“äºä¸€æ¬¡ç¼“å­˜ åªæœ‰æ¶‰åŠåˆ°ç”¨çš„å±æ€§ æ›´æ”¹äº†æ‰ä¼šé‡æ–°æ‰§è¡Œè¿™ä¸ªå‡½æ•° èŠ‚çœæ€§èƒ½
                // computed å°±ä¸ç”¨å†™æˆ person()äº†ï¼Œ ä»–ä¼šè‡ªå·±å»æ‰§è¡Œå¹¶è¿”å›ç»“æœ ä½ å°±å½“æˆdataé‡Œçš„æ•°æ®æ¥ç”¨
                person(){
                    console.log('computed');
                    
                    return 'å§“å:'+ this.name +'å¹´é¾„:'+ this.age;
                }

                //è®¡ç®—å±æ€§ä¹Ÿèƒ½å†™æˆå¯¹è±¡ é‡Œé¢æœ‰get() set()
                // person:{
                //     get(){
                //         return 'å§“å:'+ this.name +'å¹´é¾„:'+ this.age;
                //     },
                //     set(val){
                //         //è¿™ä¸ªå±æ€§ ä¸ä¼šæ”¹å˜å€¼ è¿˜æ˜¯åŸç†çš„å€¼ åªä¸è¿‡ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°è€Œå·²
                //         console.log(val);
                //     }
                // }
            },
            methods: {
                // person(){
                //     console.log('person');

                //     return 'å§“å:'+ this.name +'å¹´é¾„:'+ this.age;
                //     //or return 'å§“å: ${this.name} å¹´é¾„: ${this.age}'

                //     //methodè¿›è¡Œäº†å¤ªå¤šæ€§èƒ½æ¶ˆè€— åªè¦é¡µé¢é‡Œçš„æ•°æ®è¿›è¡Œæ¸²æŸ“ methodé‡Œé¢çš„å‡½æ•°å°±ä¼šæ‰§è¡Œ
                // }
            },
            //computedå’Œmethodä¼šåœ¨ç¬¬ä¸€æ¬¡é¡µé¢æ¸²æŸ“çš„æ—¶å€™æ‰§è¡Œé‡Œé¢çš„å‡½æ•°ï¼Œä½†æ˜¯watchä¸ä¼šï¼Œä»–åªæœ‰å½“ä»–è§‚å¯Ÿåˆ°æœ‰å€¼æ”¹å˜ ä»–æ‰ä¼šæ‰§è¡Œ
            
            //computed è®¡ç®—å±æ€§ä¸èƒ½æ‰§è¡Œå¼‚æ­¥ watchå¯ä»¥æ‰§è¡Œå¼‚æ­¥ğŸŒŸ
            // watch: {
            //     //ç›‘å¬å™¨ï¼Œç›‘å¬å±æ€§çš„å˜åŒ– ä¸ä¼šåœ¨é¡µé¢æ”¹å˜æ—¶æ‰§è¡Œ watchå¯ä»¥æ›´æ”¹è§†å›¾
            //     name(newVal){ 
            //         // newValå°±æ˜¯ä½ è¢«ç›‘å¬çš„å±æ€§æ”¹å˜åçš„å€¼,this.nameå·²ç»æ˜¯æ›´æ–°åçš„å€¼äº† æ‰€ä»¥å¯ä»¥è¿™æ ·å†™
            //         this.person =  'å§“å:'+ this.name +'å¹´é¾„:'+ this.age;
            //         æˆ–è€… 
            //         this.person =  'å§“å:'+ newVal +'å¹´é¾„:'+ this.age;
            //     },
            //     //ç›‘å¬å™¨ ä¹Ÿå¯ä»¥å†™æˆå¯¹è±¡çš„å½¢å¼
            //     name:{
            //         handler(newVal){
            //             //è¿™ä¸ªhandlerå‡½æ•°å°±ç›¸å½“äºä¸Šé¢çš„å‡½æ•°
            //             this.person =  'å§“å:'+ this.name +'å¹´é¾„:'+ this.age;
            //         },
            //         //è®¾ç½®äº†è¿™ä¸ªå°±ä¼š ç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢å°±ä¼šæ‰§è¡Œä¾¦å¬å™¨é‡Œçš„å‡½æ•°äº†  é»˜è®¤æ˜¯false
            //         immediate:true,
            //     }
            // },
        })

        //å®ä¾‹ä¸Šä¹Ÿå¯ä»¥ç”¨ä¾¦å¬å™¨
        //ç›‘å¬å‡½æ•° ç›‘å¬nameå±æ€§ ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºé…ç½®
        // vm.$watch('name',()=>{
        //     console.log('say my name')
        // },{
        //     immediate:true
        //     //immediateæ„æ€ä¸ºä¸€è¿›æ¥å°±ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°
        // })

        // computed  watch method $watch çš„åŒºåˆ« 

    </script>
</body>
</html>